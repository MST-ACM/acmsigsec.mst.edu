# Keep acmsec.mst.edu up to date with master.
name: Continuous Deployment

on:
  push:
    branches: [ master ]

  workflow_dispatch:

jobs:
  Continuous-Deployment:
    runs-on: self-hosted

    steps:
      - name: Sync master branch to webserver
        uses: garygrossgarten/github-action-ssh@v0.6.4
        with:
          command: cd /var/www/acmsec.mst.edu && sudo git pull && sudo npm install
          host: ${{ secrets.HOST }}
          username: ctf-admin
          privateKey: ${{ secrets.PRIVATE_KEY }}
